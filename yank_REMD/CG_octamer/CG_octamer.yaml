# Set the general options of our simulation
options:
  minimize: yes
  verbose: yes
#  nsteps_per_iteration: 1000
  temperature: 300*kelvin
  pressure: null
  output_dir: CG_octamer-output
#  timestep: 10.0*femtosecond
#  replica_mixing_scheme: swap-all

# Configure the specific molecule we will use
molecules:
  CG_1-1-octamer:
    filepath: /home/gmeek/Foldamers/OpenMM_CG_polymers/structure_files/CG_8-mer.pdb

# Define the solvent for our system, here we use GBSA Implicit Solvent
solvents:
  GBSA:
    nonbonded_method: NoCutoff # Main definition of the nonbonded method
    implicit_solvent: OBC2 # Onufriev-Bashford-Case GBSA model, name is related to Implicit solvents in OpenMM

# Define the systems: What is the ligand, receptor, and solvent we put them in
systems:
  CG_octamer:
    # These names all use the names we defined previously
    phase1_path: [/home/gmeek/Foldamers/OpenMM_CG_polymers/structure_files/CG_8-mer.top, /home/gmeek/Foldamers/OpenMM_CG_polymers/structure_files/CG_8-mer.gro]
    phase2_path: [/home/gmeek/Foldamers/OpenMM_CG_polymers/structure_files/CG_8-mer.top, /home/gmeek/Foldamers/OpenMM_CG_polymers/structure_files/CG_8-mer.gro]
#    phase2_path: [/home/gmeek/Foldamers/OpenMM_CG_polymers/structure_files/solvent.top, /home/gmeek/Foldamers/OpenMM_CG_polymers/structure_files/solvent.gro]
    solvent: GBSA
    gromacs_include_dir: /home/gmeek/software/anaconda3/pkgs/gromacs-4.6.5-0/share/gromacs/top

# The protocols define the alchemical path each phase will take, we use the same lambda values, though they could be different
protocols:
  CG_octamer_replica_exchange:
    complex:
      alchemical_path:
        lambda_electrostatics: [1.00, 0.75, 0.50, 0.25, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00]
        lambda_sterics:        [1.00, 1.00, 1.00, 1.00, 1.00, 0.95, 0.90, 0.85, 0.80, 0.75, 0.70, 0.65, 0.60, 0.50, 0.40, 0.30, 0.20, 0.10, 0.00]
    solvent:
      alchemical_path:
        lambda_electrostatics: [1.00, 0.75, 0.50, 0.25, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00]
        lambda_sterics:        [1.00, 1.00, 1.00, 1.00, 1.00, 0.95, 0.90, 0.85, 0.80, 0.75, 0.70, 0.65, 0.60, 0.50, 0.40, 0.30, 0.20, 0.10, 0.00]

# Here we combine the system and the protocol to make an experiment
experiments:
  system: CG_octamer
  protocol: CG_octamer_replica_exchange
